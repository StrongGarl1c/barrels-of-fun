(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{16:function(t,e,n){},18:function(t,e,n){"use strict";n.r(e);var r=n(1),c=n.n(r),a=n(9),s=n.n(a),i=n(3),o=n.n(i),u=n(5),l=n(4),b=n(10),j=n(2),f=(n(16),n.p+"static/media/barrel3.2efe95e2.png"),O=n(0);var d=function(t){var e=t.position,n=t.go,r=t.name,c=t.animation;return Object(O.jsx)("img",{src:f,alt:"barrel",onClick:n,style:{top:e.top,left:e.left,animation:c},className:"barrel",name:r})};var p=function(t){var e=Object(r.useState)(t.top),n=Object(j.a)(e,2),c=n[0],a=n[1];return Object(r.useEffect)((function(){a(t.top)}),[t.top]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h2",{children:"Top 20"}),Object(O.jsx)("ul",{id:"leader-board",children:c.map((function(t){return Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:t.name})," ",t.score]},t._id)}))}),Object(O.jsx)("button",{onClick:function(){return t.displayTop20(!1)},children:"Back"})]})};var h=function(t){var e="solid black 3px";return Object(O.jsxs)("div",{className:"starting-screen",children:[Object(O.jsx)("h2",{children:"Difficulty"}),Object(O.jsxs)("div",{className:"difficulty",children:[Object(O.jsx)("button",{style:t.style.easy,onClick:function(){t.startingBarrels(3),t.borders({easy:{border:e}}),t.setDifficulty(1)},children:"Easy"}),Object(O.jsx)("button",{style:t.style.normal,onClick:function(){t.startingBarrels(6),t.borders({normal:{border:e}}),t.setDifficulty(2)},children:"Normal"}),Object(O.jsx)("button",{style:t.style.hard,onClick:function(){t.startingBarrels(10),t.borders({hard:{border:e}}),t.setDifficulty(3)},children:"Hard"}),Object(O.jsx)("button",{onClick:function(){return t.changeDisplay(!0)},children:"Back"})]})]})};var y=function(t){var e=Object(r.useState)(!0),n=Object(j.a)(e,2),c=n[0],a=n[1];return c?Object(O.jsxs)("div",{className:"starting-screen",children:[Object(O.jsx)("h2",{children:"Options"}),Object(O.jsx)("button",{onClick:function(){return a(!1)},children:"Difficulty"}),Object(O.jsx)("button",{disabled:!0,children:"Sound"}),Object(O.jsx)("button",{disabled:!0,children:"Graphics"}),Object(O.jsx)("button",{onClick:function(){return t.changeOptions(!1)},children:"Back"})]}):Object(O.jsx)(h,{changeDisplay:a,startingBarrels:t.startingBarrels,borders:t.borders,style:t.style,setDifficulty:t.setDifficulty})};var m=function(t){var e=Object(r.useState)(!1),n=Object(j.a)(e,2),c=n[0],a=n[1];return c?Object(O.jsx)(y,{changeOptions:a,startingBarrels:t.startingBarrels,borders:t.borders,style:t.style,setDifficulty:t.setDifficulty}):t.showTop20?Object(O.jsx)(p,{top:t.top,displayTop20:t.displayTop20}):Object(O.jsxs)("div",{className:"starting-screen",children:[Object(O.jsx)("button",{onClick:function(){var e;if(!t.playerName){var n=prompt("Enter nickname");e=n||"Guest",t.setName((function(t){return Object(l.a)(Object(l.a)({},t),{},{name:e})}))}t.setVisibility(!0),t.shuffle()},children:"Start game"}),Object(O.jsx)("button",{onClick:function(){return t.displayTop20(!0)},children:"Top 20"}),Object(O.jsx)("button",{onClick:function(){return a(!0)},children:"Options"})]})};function x(t,e){return!!t.some((function(t){return e.left<t.left+50&&e.left+50>t.left&&e.top<t.top+50&&e.top+50>t.top}))}function v(){return{top:Math.floor(450*Math.random()),left:Math.floor(450*Math.random())}}function g(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=v();x(t,e);)e=v();return e}function k(t){for(var e=[],n=0;n<t;n++)e.push(g(e));return e}var S="/api";function C(){return(C=Object(u.a)(o.a.mark((function t(e){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(S,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 3:if(201!==(n=t.sent).status){t.next=8;break}return t.next=7,n.json();case 7:return t.abrupt("return",t.sent);case 8:return t.abrupt("return",null);case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}function T(){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(S);case 3:return e=t.sent,t.next=6,e.json();case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function B(t){var e=t.resetGame;return Object(O.jsx)("button",{onClick:e,children:"New Game"})}var D=function(){var t=Object(r.useState)(3),e=Object(j.a)(t,2),n=e[0],c=e[1],a=Object(r.useState)(!1),s=Object(j.a)(a,2),i=s[0],f=s[1],h=Object(r.useState)(""),y=Object(j.a)(h,2),x=y[0],v=y[1],S=Object(r.useState)(!1),w=Object(j.a)(S,2),D=w[0],N=w[1],E=Object(r.useState)(!1),F=Object(j.a)(E,2),G=F[0],M=F[1],J=Object(r.useState)(!1),I=Object(j.a)(J,2),V=I[0],H=I[1],P=Object(r.useState)("Find the funny barrel!"),Y=Object(j.a)(P,2),_=Y[0],q=Y[1],z=Object(r.useState)(!1),A=Object(j.a)(z,2),K=A[0],L=A[1],Q=Object(r.useState)({easy:{border:"solid black 3px"},normal:{},hard:{}}),R=Object(j.a)(Q,2),U=R[0],W=R[1],X=Object(r.useState)({name:"",score:0}),Z=Object(j.a)(X,2),$=Z[0],tt=Z[1],et=Object(r.useState)({visibility:"hidden"}),nt=Object(j.a)(et,2),rt=nt[0],ct=nt[1],at=Object(r.useState)(1),st=Object(j.a)(at,2),it=st[0],ot=st[1],ut=Object(r.useState)([]),lt=Object(j.a)(ut,2),bt=lt[0],jt=lt[1],ft=Object(r.useState)(!1),Ot=Object(j.a)(ft,2),dt=Ot[0],pt=Ot[1],ht=Object(r.useState)(k(n)),yt=Object(j.a)(ht,2),mt=yt[0],xt=yt[1];function vt(){xt((function(t){return k(t.length)}))}function gt(){f(!0),H(!0),q("Find the funny barrel!");for(var t=0;t<n;t++)setTimeout(vt,1e3*(3+t));setTimeout((function(){return M(!0)}),1e3*(n+3)),setTimeout((function(){return f(!1)}),3e3)}function kt(t){0===parseInt(t.target.name)?(q("Correct!"),M(!1),xt((function(t){return[].concat(Object(b.a)(t),[g(t)])})),tt((function(t){return Object(l.a)(Object(l.a)({},t),{},{score:$.score+=mt.length*it})})),gt()):(t.target.style.backgroundColor="red",t.target.parentElement.firstChild.style.backgroundColor="yellow",q("You lose!"),M(!1),L(!0),function(t){return C.apply(this,arguments)}($).then((function(t){return t?jt(t):null})),setTimeout((function(){confirm("Show top 20?")&&pt(!0)}),1e3))}function St(t){return ct(t?{visibility:""}:{visibility:"hidden"})}var Ct=Object(r.useCallback)(Object(u.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T();case 2:e=t.sent,jt(e);case 4:case"end":return t.stop()}}),t)}))),[]);return Object(r.useEffect)((function(){xt(k(n))}),[n]),Object(r.useEffect)((function(){v(i?"blink 0.5s 6 alternate ease-in-out":"")}),[i]),Object(r.useEffect)((function(){Ct()}),[Ct]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h2",{children:_}),Object(O.jsx)("h2",{style:rt,children:"".concat($.name," Score: ").concat($.score)}),Object(O.jsx)("div",{id:"map",children:dt?Object(O.jsx)(p,{top:bt,displayTop20:pt}):V?mt.map((function(t,e){return 0===e?Object(O.jsx)(d,{position:mt[e],go:G?kt:null,name:e,animation:x},e):Object(O.jsx)(d,{position:mt[e],go:G?kt:null,name:e},e)})):Object(O.jsx)(m,{shuffle:gt,startingBarrels:c,borders:W,style:U,setName:tt,setVisibility:St,playerName:$.name,setDifficulty:ot,top:bt,showTop20:dt,displayTop20:pt})}),(G||K)&&Object(O.jsx)(B,{gameStatus:G,gameOver:K,resetGame:function(){M(!1),H(!1),xt(k(n)),q("Find the funny barrel!"),N(!D),St(!1),tt((function(t){return Object(l.a)(Object(l.a)({},t),{},{score:0})})),L(!1),pt(!1)}})]})};s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(D,{})}),document.getElementById("grid"))}},[[18,1,2]]]);
//# sourceMappingURL=main.e1ead718.chunk.js.map