(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{16:function(t,e,n){},18:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n.n(c),a=n(9),i=n.n(a),o=n(5),s=n.n(o),l=n(8),b=n(3),u=n(10),j=n(2),f=(n(16),n.p+"static/media/barrel3.2efe95e2.png"),d=n(0);var O=function(t){var e=t.position,n=t.go,c=t.name,r=t.animation;return Object(d.jsx)("img",{src:f,alt:"barrel",onClick:n,style:{top:e.top,left:e.left,animation:r},className:"barrel",name:c})};var h=function(t){var e=Object(c.useState)(t.top),n=Object(j.a)(e,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){a(t.top)}),[t.top]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h2",{children:"Top 20"}),Object(d.jsx)("ul",{id:"leader-board",children:r.map((function(t){return Object(d.jsxs)("li",{children:[Object(d.jsx)("b",{children:t.name})," ",t.score]},t._id)}))}),Object(d.jsx)("button",{onClick:function(){return t.displayTop20(!1)},children:"\u041d\u0430\u0437\u0430\u0434"})]})};var p=function(t){var e="solid black 3px";return Object(d.jsxs)("div",{className:"starting-screen",children:[Object(d.jsx)("h2",{children:"\u0421\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c"}),Object(d.jsxs)("div",{className:"difficulty",children:[Object(d.jsx)("button",{style:t.style.easy,onClick:function(n){t.gameDifficulty(3),t.borders({easy:{border:e}}),t.setDif(1)},children:"\u041b\u0435\u0433\u043a\u0430\u044f"}),Object(d.jsx)("button",{style:t.style.normal,onClick:function(n){t.gameDifficulty(6),t.borders({normal:{border:e}}),t.setDif(2)},children:"\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u0430\u044f"}),Object(d.jsx)("button",{style:t.style.hard,onClick:function(n){t.gameDifficulty(10),t.borders({hard:{border:e}}),t.setDif(3)},children:"\u0421\u043b\u043e\u0436\u043d\u0430\u044f"}),Object(d.jsx)("button",{onClick:function(){return t.changeDisplay()},children:"\u041d\u0430\u0437\u0430\u0434"})]})]})};var m=function(t){var e=Object(c.useState)(!0),n=Object(j.a)(e,2),r=n[0],a=n[1];return r?Object(d.jsxs)("div",{className:"starting-screen",children:[Object(d.jsx)("h2",{children:"\u041e\u043f\u0446\u0438\u0438"}),Object(d.jsx)("button",{onClick:function(){return a(!1)},children:"\u0421\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c"}),Object(d.jsx)("button",{disabled:!0,children:"\u0417\u0432\u0443\u043a"}),Object(d.jsx)("button",{disabled:!0,children:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),Object(d.jsx)("button",{onClick:function(){return t.changeOptions(!1)},children:"\u041d\u0430\u0437\u0430\u0434"})]}):Object(d.jsx)(p,{changeDisplay:function(){a(!0)},gameDifficulty:t.gameDifficulty,borders:t.borders,style:t.style,setDif:t.setDif})};var x=function(t){var e=Object(c.useState)(!1),n=Object(j.a)(e,2),r=n[0],a=n[1];function i(t){a(t)}return r?Object(d.jsx)(m,{changeOptions:i,gameDifficulty:t.gameDifficulty,borders:t.borders,style:t.style,setDif:t.setDif}):t.showTop20?Object(d.jsx)(h,{top:t.top,displayTop20:t.displayTop20}):Object(d.jsxs)("div",{className:"starting-screen",children:[Object(d.jsx)("button",{onClick:function(){var e;if(!t.playerName){var n=prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0438\u043a");e=n||"\u0413\u043e\u0441\u0442\u044c",t.setName(e)}t.setVisibility(!0),t.shuffle()},children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443"}),Object(d.jsx)("button",{onClick:function(){return t.displayTop20(!0)},children:"\u0422\u043e\u043f 20"}),Object(d.jsx)("button",{onClick:function(){return i(!0)},children:"\u041e\u043f\u0446\u0438\u0438"})]})};var y=function(){var t=Object(c.useState)(3),e=Object(j.a)(t,2),n=e[0],r=e[1],a=Object(c.useState)(!1),i=Object(j.a)(a,2),o=i[0],f=i[1],p=Object(c.useState)(""),m=Object(j.a)(p,2),y=m[0],v=m[1],g=Object(c.useState)(!1),k=Object(j.a)(g,2),S=k[0],C=k[1],D=Object(c.useState)(!1),M=Object(j.a)(D,2),T=M[0],N=M[1],w=Object(c.useState)(!1),E=Object(j.a)(w,2),J=E[0],F=E[1],I=Object(c.useState)("\u041d\u0430\u0439\u0434\u0438 \u0432\u0435\u0441\u0435\u043b\u0443\u044e \u0431\u043e\u0447\u043a\u0443!"),V=Object(j.a)(I,2),A=V[0],B=V[1],P=Object(c.useState)({easy:{border:"solid black 3px"},normal:{},hard:{}}),_=Object(j.a)(P,2),q=_[0],z=_[1],G=Object(c.useState)({name:"",score:0}),H=Object(j.a)(G,2),K=H[0],L=H[1],Q=Object(c.useState)({visibility:"hidden"}),R=Object(j.a)(Q,2),U=R[0],W=R[1],X=Object(c.useState)(1),Y=Object(j.a)(X,2),Z=Y[0],$=Y[1],tt=Object(c.useState)([]),et=Object(j.a)(tt,2),nt=et[0],ct=et[1],rt=Object(c.useState)(!1),at=Object(j.a)(rt,2),it=at[0],ot=at[1],st=Object(c.useCallback)((function(){return Array(n).fill({top:Math.floor(450*Math.random()),left:Math.floor(450*Math.random())}).map((function(t){return{top:Math.floor(450*Math.random()),left:Math.floor(450*Math.random())}}))}),[n]),lt=Object(c.useState)(st()),bt=Object(j.a)(lt,2),ut=bt[0],jt=bt[1];function ft(){jt(ut.map((function(t){return{top:Math.floor(Math.random()*(450-t.top)),left:Math.floor(Math.random()*(450-t.left))}})))}function dt(){f(!0),F(!0),B("\u041d\u0430\u0439\u0434\u0438 \u0432\u0435\u0441\u0435\u043b\u0443\u044e \u0431\u043e\u0447\u043a\u0443!");for(var t=0;t<n;t++)setTimeout(ft,1e3*(3+t));setTimeout((function(){return N(!0)}),1e3*(n+3)),setTimeout((function(){return f(!1)}),2e3)}function Ot(t){0===parseInt(t.target.name)?(B("\u0423\u0433\u0430\u0434\u0430\u043b!"),N(!1),jt([].concat(Object(u.a)(ut),[{top:Math.floor(450*Math.random()),left:Math.floor(450*Math.random())}])),L(Object(b.a)(Object(b.a)({},K),{},{score:K.score+=ut.length*Z}))):(t.target.style.backgroundColor="red",t.target.parentElement.firstChild.style.backgroundColor="yellow",B("\u0422\u044b \u043f\u0440\u043e\u0438\u0433\u0440\u0430\u043b!"),N(!1),Object(l.a)(s.a.mark((function t(){var e,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)});case 3:return e=t.sent,t.next=6,e.json();case 6:n=t.sent,ct(n),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))(),setTimeout((function(){confirm("\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u043e\u043f 20?")&&ot(!0)}),3e3))}function ht(){N(!1),F(!1),jt(st()),B("\u041d\u0430\u0439\u0434\u0438 \u0432\u0435\u0441\u0435\u043b\u0443\u044e \u0431\u043e\u0447\u043a\u0443!"),C(!S),yt(!1),L(Object(b.a)(Object(b.a)({},K),{},{score:0}))}function pt(t){r(t)}function mt(t){z(t)}function xt(t){L(Object(b.a)(Object(b.a)({},K),{},{name:t}))}function yt(t){return W(t?{visibility:""}:{visibility:"hidden"})}function vt(t){$(t)}var gt=Object(c.useCallback)(Object(l.a)(s.a.mark((function t(){var e,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api");case 3:return e=t.sent,t.next=6,e.json();case 6:n=t.sent,ct(n),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])}))),[]);function kt(t){ot(t)}return Object(c.useEffect)((function(){jt(st())}),[n,st]),Object(c.useEffect)((function(){v(o?"blink 0.5s 6 alternate ease-in-out":"")}),[o]),Object(c.useEffect)((function(){gt()}),[gt]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h2",{children:A}),Object(d.jsx)("h2",{style:U,children:"".concat(K.name," \u041e\u0447\u043a\u0438: ").concat(K.score)}),Object(d.jsx)("div",{id:"map",children:it?Object(d.jsx)(h,{top:nt,displayTop20:kt}):J?ut.map((function(t,e){return 0===e?Object(d.jsx)(O,{position:ut[e],go:T?Ot:null,name:e,animation:y},e):Object(d.jsx)(O,{position:ut[e],go:T?Ot:null,name:e},e)})):Object(d.jsx)(x,{shuffle:dt,gameDifficulty:pt,borders:mt,style:q,setName:xt,setVisibility:yt,playerName:K.name,setDif:vt,top:nt,showTop20:it,displayTop20:kt})}),"\u0423\u0433\u0430\u0434\u0430\u043b!"===A?Object(d.jsx)("button",{onClick:function(){dt()},children:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0420\u0430\u0443\u043d\u0434"}):J?Object(d.jsx)("button",{onClick:ht,children:"\u041d\u043e\u0432\u0430\u044f \u0418\u0433\u0440\u0430"}):void 0]})};i.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(y,{})}),document.getElementById("grid"))}},[[18,1,2]]]);
//# sourceMappingURL=main.bb01011f.chunk.js.map